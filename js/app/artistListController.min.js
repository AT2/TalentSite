(function(){app.controller("artistListController",["$scope","ngDialog","artistService","filterService",function(n,t,i,r){n.showFilter=!0;n.artists=[];n.filters=[];n.selectedFilters={};n.ageRangeFilter={};n.queryString="1=1";n.filterSelected=function(n){return n.selectedItem&&n.selectedItem.Value.length>0};n.init=function(t){i.queryList().then(function(t){n.artists=t.Result.ArtistList});r.queryFilters().then(function(i){var r,u,f,s,h,e,o;if(n.filters=i.Result,t==="Standard")for(e=n.filters,u=0,s=e.length;u<s;u++)r=e[u],r.Value.unshift({Key:r.Key,Value:""});if(t==="Compact")for(o=n.filters,f=0,h=o.length;f<h;f++)r=o[f],r.Value.unshift({Key:"All",Value:""})})};n.search=function(){var f,e,r,o,t,u;for(t="1=1",u=n.filters,e=function(i){i.Key==="Gender"&&i.selectedItem&&(n.selectedFilters.GenderCode=i.selectedItem.Value);i.Key==="Video"&&i.selectedItem&&(n.selectedFilters.HaveVideo=i.selectedItem.Value);i.Key==="Audio"&&i.selectedItem&&(n.selectedFilters.HaveAudio=i.selectedItem.Value);i.Key==="Available"&&i.selectedItem&&(n.selectedFilters.IsAvailable=i.selectedItem.Value);i.Key==="Region"&&i.selectedItem&&(n.selectedFilters.StateID=i.selectedItem.Value);i.Key==="Type"&&i.selectedItem&&(n.selectedFilters.ArtistTypeCodes=i.selectedItem.Value);i.Key==="Age"&&i.selectedItem&&(n.ageRangeFilter=function(n){return n.Age>=i.selectedItem.Value.split("-")[0]&&n.Age<=i.selectedItem.Value.split("-")[1]});i.Key==="Height"&&i.selectedItem&&(t+="&Height="+i.selectedItem.Value.replace("-",":"));i.Key==="Hair"&&i.selectedItem&&(t+="&HairColour="+i.selectedItem.Value);i.Key==="Ethnicity"&&i.selectedItem&&(t+="&Ethnicity="+i.selectedItem.Value);i.Key==="Eye"&&i.selectedItem&&(t+="&EyeColour="+i.selectedItem.Value)},r=0,o=u.length;r<o;r++)f=u[r],e(f);t.length>3&&t!==n.queryString&&(n.queryString=t,i.queryList(n.queryString).then(function(t){n.artists=t.Result.ArtistList}))};n.onSelectFilter=function(t,i){t.selectedItem=i;n.search()}}])}).call(this);
//# sourceMappingURL=artistListController.min.js.map
