(function(){app.controller("artistDetailController",["$scope","artistService","agencyService",function(n,t,i){var r,o,s,f,e,u;n.profile={};n.agency={};n.videoIndex=0;n.audioIndex=0;n.videoSrc="";u=null;r=null;e=null;f=null;n.init=function(){t.queryDetail(window.memberId).then(function(t){n.profile=t.Result});i.get().then(function(t){n.agency=t.Result})};n.findStats=function(t){return _.findWhere(n.profile.Statistics,{Code:t})};n.playVideo=function(t){n.videoIndex===t?u.paused()?u.play():u.pause():s(t)};n.playAudio=function(t){n.audioIndex===t?r.paused()?r.play():r.pause():o(t)};n.showVideos=function(){$("#modalVideoShowreel ").modal();s(0);$("#modalVideoShowreel").on("hide.bs.modal",function(){u.pause()})};n.showAudios=function(){$("#modalAudioShowreel ").modal();o(0);$("#modalAudioShowreel").on("hide.bs.modal",function(){r.pause()})};n.showCreditResumeMedia=function(n,t){if(n==="V"){e===null&&(e=videojs("creditVideo",{controls:!0,preload:"auto"}));e.src({type:"video/mp4",src:t});e.play();$("#modalResumeVideo").modal();$("#modalResumeVideo").on("hide.bs.modal",function(){e.pause()})}else if(n==="A"){f===null&&(f=videojs("creditAudio",{controls:!0,preload:"auto"}));f.src({type:"audio/mp3",src:t});f.play();$("#modalResumeAudio").modal();$("#modalResumeAudio").on("hide.bs.modal",function(){f.pause()})}else blueimp.Gallery([t])};s=function(t){if(n.videoIndex=t,u===null){u=videojs("videoShowreel",{controls:!0,preload:"auto"});u.on("ended",function(){n.videoIndex+1<n.profile.VideoList.length&&s(n.videoIndex+1);n.$apply()})}u.src({type:"video/mp4",src:n.profile.VideoList[t].VideoPath});u.play()};o=function(t){if(n.audioIndex=t,r===null){r=videojs("audioShowreel",{controls:!0,preload:"auto"});r.on("ended",function(){n.audioIndex+1<n.profile.AudioList.length&&o(n.audioIndex+1);n.$apply()})}r.src({type:"audio/mp3",src:n.profile.AudioList[t].AudioPath});r.play()};n.compCardUrl=function(){return"/static/partial/_compcard_"+n.profile.CompCard.CompCardTemplateID+".html"}}])}).call(this);
//# sourceMappingURL=artistDetailController.min.js.map
